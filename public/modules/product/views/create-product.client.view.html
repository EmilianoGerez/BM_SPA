<section data-ng-controller = 'ProductController' data-ng-init='findSelectData()'>
	<div class="container create-container">
		<div class="row header">
			<div class="col-xs-3">
				<a href="#/products"><i class="fa fa-arrow-left"></i></a>
			</div>
			<div class="col-xs-6">
				<h2>Crear Producto</h2>
			</div>
		</div>
		<div class="row">
			<div class="col-xs-12" ng-show='errMessage'>
				<div class="alert alert-danger" role="alert">
					<p>{{errMessage}}</p>
				</div>
			</div>
			<div class="col-xs-12 form-container">
				<form name='createProduct' role='form'
					data-ng-submit="create()">
					<div class="form-group">
						<label for="name">Categoría</label>
						<select class="form-control" name='category'
							data-ng-model='category' ng-change='filterProductCodes()'
							data-ng-options='value._id as value.name for value in categoriesData track by value._id'
							required ng-class='{err: createProduct.category.$error.required && createProduct.$dirty}'>
							<option value="">--Seleccionar categoría--</option>
						</select>
					</div>
					<div class="form-group" ng-show='category'>
						<label for="name">Nombre</label>
						<select class="form-control" name='productCode'
							data-ng-model='productCode'
							data-ng-options='value._id as value.name for value in productCodesFiltered track by value._id'
							required ng-class='{err: createProduct.productCode.$error.required && createProduct.$dirty}'>
							<option value="">--Seleccionar nombre--</option>
						</select>
					</div>
					<div class="price-container">
						<div class="form-group col-xs-12 col-lg-6">
							<label for="cosot">Costo</label>
							<div class="input-group">
								<span class="input-group-addon">$</span>
								<input type="number" name="cost"
								class="form-control" placeholder="Ingresar costo"
								ng-model="cost"
								ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" step="0.01" /
								required>
							</div>
						</div>
						<div class="form-group col-xs-12 col-lg-6">
							<label for="name">Precio de venta</label>
							<div class="input-group">
								<span class="input-group-addon">$</span>
								<input type="number" name="price"
								class="form-control" placeholder="Ingresar precio"
								ng-model="price"
								ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" step="0.01" /
								required>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label for="description">Descripción</label>
						<textarea class="form-control" name='description'
						placeholder="Opcional.." cols="5" rows="5"
						data-ng-model='description'>
						</textarea>
					</div>
					<div class="form-group">
						<button type="submit" class="btn btn-primary pull-right">Crear</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</section>